# Main ìŠ¤í† ë¦¬ êµ¬ì¡°

## ğŸ“ í´ë” êµ¬ì¡°

```
main/
â”œâ”€â”€ chapter/          # ë©”ì¸ ì±•í„° (XP 20, 40, 60, 80, 100)
â”‚   â”œâ”€â”€ index.json
â”‚   â”œâ”€â”€ chapter_knight_20.json
â”‚   â”œâ”€â”€ chapter_knight_40.json
â”‚   â”œâ”€â”€ chapter_knight_60.json
â”‚   â”œâ”€â”€ chapter_knight_80.json
â”‚   â”œâ”€â”€ chapter_knight_100.json
â”‚   â”œâ”€â”€ chapter_mage_20.json
â”‚   â”œâ”€â”€ chapter_mage_40.json
â”‚   â”œâ”€â”€ chapter_mage_60.json
â”‚   â”œâ”€â”€ chapter_mage_80.json
â”‚   â””â”€â”€ chapter_mage_100.json
â”œâ”€â”€ story/            # ìŠ¤í† ë¦¬ ë§ˆì¼ìŠ¤í†¤ (XP 10, 30, 50, 70, 90)
â”‚   â”œâ”€â”€ index.json
â”‚   â”œâ”€â”€ story_10.json
â”‚   â”œâ”€â”€ story_30.json
â”‚   â”œâ”€â”€ story_50.json
â”‚   â”œâ”€â”€ story_70.json
â”‚   â””â”€â”€ story_90.json
â”œâ”€â”€ index.json        # ì¹´í…Œê³ ë¦¬ ì¸ë±ìŠ¤
â””â”€â”€ README.md         # ì´ ë¬¸ì„œ
```

---

## ğŸ¯ Chapter (ë©”ì¸ ì±•í„°)

### ê°œìš”
- **ëª©ì **: ì‹œì‘ ì„ íƒ(ê¸°ì‚¬/ë§ˆë²•ì‚¬)ì— ë”°ë¥¸ ë©”ì¸ ìŠ¤í† ë¦¬ ë¼ì¸
- **íŠ¸ë¦¬ê±°**: **XP ë§ˆì¼ìŠ¤í†¤ (20, 40, 60, 80, 100)** â­
- **XP**: Chapter ì¸ì¹´ìš´í„°ëŠ” XPë¥¼ ì£¼ì§€ ì•ŠìŒ
- **ì—°ë™**: `assets/config/xp_config.json`ì˜ `chapterMilestones`ì™€ ì¼ì¹˜

### Chapter ë§ˆì¼ìŠ¤í†¤ ëª©ë¡

| XP  | Knight ì±•í„° | Mage ì±•í„° | ë‚´ìš© |
|-----|------------|-----------|------|
| 20  | `chapter_knight_20.json` | `chapter_mage_20.json` | ì²« ë²ˆì§¸ ì¤‘ìš”í•œ ì„ íƒ |
| 40  | `chapter_knight_40.json` | `chapter_mage_40.json` | ìœ„ê¸°ì™€ ë„ì „ |
| 60  | `chapter_knight_60.json` | `chapter_mage_60.json` | í˜ì˜ íšë“ |
| 80  | `chapter_knight_80.json` | `chapter_mage_80.json` | ìµœì¢… ì‹œë ¨ |
| 100 | `chapter_knight_100.json` | `chapter_mage_100.json` | ì „ì„¤ì˜ ìœ ë¬¼ íšë“ (ì—”ë”© íŠ¸ë¦¬ê±°) |

### Knight Chapter (ê¸°ì‚¬ ìŠ¤í† ë¦¬)

#### 20 XP: ê¸°ì‚¬ë‹¨ ì„ íƒ
- **ì„ íƒì§€**:
  - ê¸°ì‚¬ë‹¨ í•©ë¥˜ â†’ `knight_order_joined`
  - í™€ë¡œ ê°•í•´ì§€ê¸° â†’ `knight_solo_path`

#### 40 XP: ë“œë˜ê³¤ ìœ„ê¸°
- **ì„ íƒì§€**:
  - ë“œë˜ê³¤ ì „íˆ¬ â†’ `defeated_dragon`, `hero_reputation`
  - ë§ˆì„ ì‚¬ëŒ ëŒ€í”¼ â†’ `saved_village`, `cautious_knight`

#### 60 XP: ì„±ê²€ íšë“
- **ì„ íƒì§€**:
  - ì§ì ‘ ëŒíŒŒ â†’ `holy_sword_acquired`, `brave_knight`
  - ìˆ¨ê²¨ì§„ í†µë¡œ â†’ `holy_sword_acquired`, `wise_knight`

#### 80 XP: ì–´ë‘ ì˜ ê¸°ì‚¬
- **ì„ íƒì§€**:
  - ê²°íˆ¬ â†’ `defeated_dark_knight`, `honorable_duel`
  - í˜‘ìƒ â†’ `dark_knight_ally`, `diplomatic_knight`

#### 100 XP: ì „ì„¤ì˜ ê°‘ì˜·
- **ê²°ê³¼**: `legendary_armor_acquired`, `true_paladin`
- **íŠ¸ë¦¬ê±°**: ê²Œì„ ì—”ë”©

### Mage Chapter (ë§ˆë²•ì‚¬ ìŠ¤í† ë¦¬)

#### 20 XP: ê³ ëŒ€ ë§ˆë²•ì‚¬ì˜ íƒ‘
- **ì„ íƒì§€**:
  - ìˆ˜ìˆ˜ê»˜ë¼ í’€ê¸° â†’ `ancient_tome_acquired`, `wise_mage`
  - ë§ˆë²•ìœ¼ë¡œ ê°•í–‰ â†’ `forceful_entry`, `powerful_mage`

#### 40 XP: ì°¨ì›ì˜ ê· ì—´
- **ì„ íƒì§€**:
  - ê· ì—´ ë´‰ì¸ â†’ `rift_sealed`, `guardian_mage`
  - ê· ì—´ ì—°êµ¬ â†’ `dimensional_knowledge`, `researcher_mage`

#### 60 XP: ë§ˆë²• ì•„ì¹´ë°ë¯¸
- **ì„ íƒì§€**:
  - ì•„ì¹´ë°ë¯¸ ì…í•™ â†’ `academy_member`, `orthodox_mage`
  - ë…í•™ ê³„ì† â†’ `independent_mage`, `unique_magic`

#### 80 XP: ê¸ˆë‹¨ì˜ ë§ˆë²•
- **ì„ íƒì§€**:
  - ê¸ˆë‹¨ì˜ ë§ˆë²• â†’ `forbidden_magic_learned`, `dark_mage`
  - ìˆœìˆ˜í•œ ê¸¸ â†’ `pure_magic_path`, `white_mage`

#### 100 XP: íƒœì´ˆì˜ ì§€íŒ¡ì´
- **ê²°ê³¼**: `primordial_staff_acquired`, `archmage`
- **íŠ¸ë¦¬ê±°**: ê²Œì„ ì—”ë”©

---

## ğŸ“– Story (ì„œë¸Œ ìŠ¤í† ë¦¬)

### ê°œìš”
- **ëª©ì **: XP ì§„í–‰ì— ë”°ë¼ ìë™ìœ¼ë¡œ íŠ¸ë¦¬ê±°ë˜ëŠ” ì„œë¸Œ ìŠ¤í† ë¦¬
- **íŠ¸ë¦¬ê±°**: XP ë§ˆì¼ìŠ¤í†¤ ë„ë‹¬ ì‹œ (10, 30, 50, 70, 90)
- **XP**: ìŠ¤í† ë¦¬ ë§ˆì¼ìŠ¤í†¤ ì¸ì¹´ìš´í„°ëŠ” XPë¥¼ ì£¼ì§€ ì•ŠìŒ
- **íŠ¹ì§•**: Chapterì™€ ë…ë¦½ì ìœ¼ë¡œ ì§„í–‰ (ëª¨ë“  í”Œë ˆì´ì–´ ê³µí†µ)

### ìŠ¤í† ë¦¬ ë§ˆì¼ìŠ¤í†¤ ëª©ë¡

| XP  | íŒŒì¼ | ì œëª© | ë‚´ìš© |
|-----|------|------|------|
| 10  | `story_10.json` | ì²« ë²ˆì§¸ í™˜ì˜ | ë…¸ì¸ì˜ ì¡°ì–¸ |
| 30  | `story_30.json` | ê³„ì‹œì˜ ê¿ˆ | ì§„ì‹¤ì— ëŒ€í•œ ì•”ì‹œ |
| 50  | `story_50.json` | ë¼ì´ë²Œ ë“±ì¥ | ë‹¤ë¥¸ ëª¨í—˜ê°€ì™€ì˜ ë§Œë‚¨ |
| 70  | `story_70.json` | ê³ ëŒ€ì˜ ê²½ê³  | ìœ ë¬¼ì˜ ì–‘ë©´ì„± ê²½ê³  |
| 90  | `story_90.json` | ìµœì¢… ê´€ë¬¸ | ìš´ëª…ì˜ ë¬¸ ì•ì—ì„œ |

---

## ğŸ”„ XP ì‹œìŠ¤í…œ ì—°ë™

### xp_config.json ì„¤ì •
```json
{
  "chapterMilestones": [20, 40, 60, 80, 100],
  "storyMilestones": [10, 30, 50, 70, 90],
  "tracks": {
    "chapter": {
      "poolByStart": {
        "start_knight": ["chapter_knight_20", "chapter_knight_40", ...],
        "start_mage": ["chapter_mage_20", "chapter_mage_40", ...]
      },
      "selection": "weighted_random"
    },
    "story": {
      "sequence": ["story_10", "story_30", "story_50", "story_70", "story_90"],
      "onMiss": "enqueue_next"
    }
  }
}
```

### ì‘ë™ ì›ë¦¬

#### Chapter (ë©”ì¸ ì±•í„°)
1. í”Œë ˆì´ì–´ê°€ ë°˜ë³µ ì¸ì¹´ìš´í„°ë¡œ XP íšë“
2. **XPê°€ 20 ë„ë‹¬** â†’ `MilestoneService`ê°€ `chapter(20)` ë§ˆì¼ìŠ¤í†¤ íì— ì¶”ê°€
3. `EncounterScheduler`ê°€ ì‹œì‘ í…Œë§ˆ í™•ì¸ (ê¸°ì‚¬ or ë§ˆë²•ì‚¬)
4. í•´ë‹¹ ì±•í„°ì˜ ì¸ì¹´ìš´í„° ì‹¤í–‰ (`chapter_knight_20` or `chapter_mage_20`)
5. Chapter ì¸ì¹´ìš´í„° ì™„ë£Œ í›„ ë‹¤ì‹œ ë°˜ë³µ ì¸ì¹´ìš´í„°ë¡œ ë³µê·€

#### Story (ì„œë¸Œ ìŠ¤í† ë¦¬)
1. XPê°€ 10, 30, 50, 70, 90 ë„ë‹¬ ì‹œ ìë™ íŠ¸ë¦¬ê±°
2. ëª¨ë“  í”Œë ˆì´ì–´ì—ê²Œ ê³µí†µìœ¼ë¡œ ì ìš©
3. Chapterì™€ ë…ë¦½ì ìœ¼ë¡œ ì§„í–‰

---

## ğŸ“Š í”Œë ˆì´ íë¦„ ì˜ˆì‹œ

```
ê²Œì„ ì‹œì‘
  â†“
Start ì¸ì¹´ìš´í„° (ì„ íƒ: ê¸°ì‚¬ ì„ íƒ)
  â†“
Random ì¸ì¹´ìš´í„°ë“¤ (XP íšë“)
  â†“
10 XP ë„ë‹¬ â†’ Story 10 (ë…¸ì¸ì˜ í™˜ì˜)
  â†“
Random ì¸ì¹´ìš´í„°ë“¤ ê³„ì†...
  â†“
20 XP ë„ë‹¬ â†’ Chapter Knight 20 (ê¸°ì‚¬ë‹¨ ì„ íƒ) â­
  â†“
Random ì¸ì¹´ìš´í„°ë“¤...
  â†“
30 XP ë„ë‹¬ â†’ Story 30 (ê³„ì‹œì˜ ê¿ˆ)
  â†“
40 XP ë„ë‹¬ â†’ Chapter Knight 40 (ë“œë˜ê³¤ ìœ„ê¸°) â­
  â†“
50 XP ë„ë‹¬ â†’ Story 50 (ë¼ì´ë²Œ ë“±ì¥)
  â†“
60 XP ë„ë‹¬ â†’ Chapter Knight 60 (ì„±ê²€ íšë“) â­
  â†“
70 XP ë„ë‹¬ â†’ Story 70 (ê³ ëŒ€ì˜ ê²½ê³ )
  â†“
80 XP ë„ë‹¬ â†’ Chapter Knight 80 (ì–´ë‘ ì˜ ê¸°ì‚¬) â­
  â†“
90 XP ë„ë‹¬ â†’ Story 90 (ìµœì¢… ê´€ë¬¸)
  â†“
100 XP ë„ë‹¬ â†’ Chapter Knight 100 (ì „ì„¤ì˜ ê°‘ì˜·) â†’ Ending â­
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### Chapter (ë©”ì¸ ì±•í„°)
- âœ… **XP ë§ˆì¼ìŠ¤í†¤ ìë™ íŠ¸ë¦¬ê±° (20, 40, 60, 80, 100)**
- âŒ XP ì£¼ì§€ ì•ŠìŒ
- âœ… ì‹œì‘ í…Œë§ˆì— ë”°ë¼ ë‹¤ë¥¸ ìŠ¤í† ë¦¬
- âœ… í”Œë ˆì´ì–´ ì„ íƒì— ë”°ë¥¸ ë¶„ê¸° ê°€ëŠ¥
- âš ï¸ xp_config.jsonì˜ chapterMilestonesì™€ ë™ê¸°í™” í•„ìˆ˜

### Story (ì„œë¸Œ ìŠ¤í† ë¦¬)
- âœ… XP ë§ˆì¼ìŠ¤í†¤ ìë™ íŠ¸ë¦¬ê±° (10, 30, 50, 70, 90)
- âŒ XP ì£¼ì§€ ì•ŠìŒ
- âœ… ëª¨ë“  í”Œë ˆì´ì–´ ê³µí†µ
- âš ï¸ xp_config.jsonì˜ storyMilestonesì™€ ë™ê¸°í™” í•„ìˆ˜

### ê³µí†µ
- ëª¨ë“  ì¸ì¹´ìš´í„°ëŠ” `{"end": true}`ë¡œ ì¢…ë£Œ
- í”Œë˜ê·¸ ì„¤ì •ì€ `{"effect": {"flag": {...}}}`
- ì„ íƒì§€ëŠ” `{"choice": [...]}`
- XPëŠ” **ë°˜ë³µ ì¸ì¹´ìš´í„°(`/random/`)ë§Œ** ì§€ê¸‰

---

## âœ… êµ¬ì¡° ìš”ì•½

**Chapter = XP 20ì˜ ë°°ìˆ˜ì—ì„œ íŠ¸ë¦¬ê±°ë˜ëŠ” ë©”ì¸ ì±•í„°!**
- 20, 40, 60, 80, 100 XPì—ì„œ ë°œë™
- ì‹œì‘ í…Œë§ˆ(ê¸°ì‚¬/ë§ˆë²•ì‚¬)ì— ë”°ë¼ ë‹¤ë¥¸ ìŠ¤í† ë¦¬
- í”Œë ˆì´ì–´ì˜ ì„ íƒì— ë”°ë¥¸ ë¶„ê¸°
- 100 XPì—ì„œ ì—”ë”© íŠ¸ë¦¬ê±°
